<mat-card *ngIf="(product$ | async) as product" class="product-details mat-typography">
  <section class="product-details__title">
    <h1>{{ product.title }}</h1>

    <app-marketplace-rating
      *ngIf="(owner$ | async) as owner"
      [rating]="owner.sellerRating"></app-marketplace-rating>
  </section>

  <section class="product-details__price-buy">
    <div class="price">
      <span class="price__prefix">REPUX</span>
      <span class="price__value">{{ product.price.toString() | currency : '' : '' : currencyFormat }}</span>
    </div>
    <app-marketplace-action-buttons
      [dataProduct]="product"
      [availableActions]="[ 'buy', 'rate' ]"></app-marketplace-action-buttons>
  </section>

  <section class="product-details__description">
    <p>{{ product.shortDescription }}</p>
    <mat-chip-list>
      <mat-chip *ngFor="let category of product.category" disabled>{{ category }}</mat-chip>
    </mat-chip-list>
  </section>

  <section class="product-details__file-info">
    <mat-icon>attach_file</mat-icon>
    {{ product.name }} | {{ product.size | fileSize }} | <a href=""
                                                            (click)="$event.stopPropagation(); $event.preventDefault(); downloadEula(product.eula)">{{
    product.eula.type | eulaType }} EULA</a>
  </section>

  <div class="product-details__note">
    <span>Max. number of days for seller to finalise transaction: <strong>{{ product.daysToDeliver }} days</strong></span>
  </div>

  <section *ngIf="product.fullDescription">
    <h2>Detailed description</h2>
    <p>{{ product.fullDescription }}</p>
  </section>

  <section *ngIf="product.sampleFile?.length > 0" class="sample-files">
    <h2>Sample files</h2>
    <mat-list>
      <mat-list-item *ngFor="let file of product.sampleFile;">
        <div mat-line>
          <div class="sample-files__line">
            {{ file.fileName }}
            <button class="sample-files__button"
                    mat-stroked-button
                    (click)="downloadSampleFile($event, file)">
              Download
            </button>
          </div>
        </div>
        <mat-divider></mat-divider>
      </mat-list-item>
    </mat-list>
  </section>

  <a routerLink="../../">Back to list</a>
</mat-card>
